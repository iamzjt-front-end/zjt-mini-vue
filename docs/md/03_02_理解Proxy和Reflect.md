# 04_理解Proxy和Reflect

开始之前:

为什么还会有这一篇文章呢？  
不是手写mini-vue吗？其实可以理解成支线任务、番外篇，是对主线内容的补充。

# Proxy是什么？

> 《ES6标准入门》
>
> Proxy 用于修改某些操作的默认行为，等同于在语言层面做出修改，所以属于 种“元编程”（ meta programming ），即对编程语言进行编程。
>
> Proxy 可以理解成在目标对象前架设 个“拦截”层 ，外界对该对象的访问都必须先通过 这层拦截，因此提供了一种机制可以对外界的访问进行过滤和改写。
>
> Proxy 这个词的原意是代理，用在这里表示由它来“代理”某些操作，可以译为“代理器”。


> 《深入理解ES6》
>
> 通过调用 new Proxy() ，你可以创建一个代理用来替代另一个对象（被称为目标），这个代理对目标对象进行了虚拟，因此该代理与该目标对象表面上可以被当作同一个对象来对待。
>
> 代理允许你拦截在目标对象上的底层操作，而这原本是 JS 引擎的内部能力。拦截行为使用了一个能够响应特定操作的函数（被称为陷阱）。


> 《JavaScript高级程序设计（第4版）》
>
> ECMAScript 6
> 新增的代理和反射为开发者提供了拦截并向基本操作嵌入额外行为的能力。具体地说，可以给目标对象定义一个关联的代理对象，而这个代理对象可以作为抽象的目标对象来使用。在对目标对象的各种操作影响目标对象之前，可以在代理对象中对这些操作加以控制。
>
> 从很多方面看，代理类似 C++指针，因为它可以用作目标对象的替身，但又完全独立于目标对象。目标对象既可以直接被操作，也可以通过代理来操作。
> 但直接操作会绕过代理施予的行为。

从以上书籍中的描述，我们可以大概总结一下：使用 `Proxy` 可以创建一个代理对象，它能够实现对 `其他对象` 的代理。

这里的关键词有两个：

1. **“创建”** ： 意为代理对象这是一个新对象。
2. **“其他对象”** ： 只能代理对象，无法代理非对象值，例如：数字、字符串、布尔类型。

那么，代理指的是什么呢？

所谓代理，指的是对一个对象基本语义的代理。它允许我们拦截并重新定义对一个对象的基本操作。  
这句话的关键词比较多，我们逐一解释。