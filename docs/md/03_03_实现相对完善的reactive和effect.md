# 03_03_实现相对完善的reactive和effect

### 一、我们要优化哪些点？

既然要实现相对完善的`reactive`，那自然需要考虑的多一点。

一些`边缘case`的简单考虑：

1. `reactive`参数问题：
   - 参数类型问题，如果传入的参数不是对象呢？
   - 如果已经是一个响应式对象了呢？也就是嵌套问题，多次`reactive`同一对象
2. `effect`相关的考虑：
   - 嵌套`effect`的情况
   - `分支切换`，也就是三元表达式，不同的分支执行不同的代码，依赖收集不对
   - 避免无线递归循环，`prop++`的情况，导致栈溢出

接下来一个个来完善。

### 二、reactive相关考虑完善


### 三、effect相关考虑完善